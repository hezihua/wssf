(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{447:function(t,n,a){"use strict";a.r(n);var s=a(2),e=Object(s.a)({},(function(){var t=this,n=t._self._c;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h1",{attrs:{id:"_1、去-nginx官网下载-nginx-包-建议下载稳定版本"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1、去-nginx官网下载-nginx-包-建议下载稳定版本"}},[t._v("#")]),t._v(" 1、去 nginx官网下载 nginx 包，建议下载稳定版本")]),t._v(" "),n("h1",{attrs:{id:"_2、上传-nginx-到-linux-系统自定义的目录下。-上传工具可以使用-xftp"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2、上传-nginx-到-linux-系统自定义的目录下。-上传工具可以使用-xftp"}},[t._v("#")]),t._v(" 2、上传 nginx 到 linux 系统自定义的目录下。（上传工具可以使用 xftp）")]),t._v(" "),n("h1",{attrs:{id:"_3、安装依赖环境。"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3、安装依赖环境。"}},[t._v("#")]),t._v(" 3、安装依赖环境。")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("yum install gcc-c++\nyum install -y pcre pcre-devel\nyum install -y zlib zlib-devel\nyum install -y openssl openssl-devel\n")])])]),n("h1",{attrs:{id:"_4、解压压缩包-解压后得到源码-之后需要编译后安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4、解压压缩包-解压后得到源码-之后需要编译后安装"}},[t._v("#")]),t._v(" 4、解压压缩包，解压后得到源码，之后需要编译后安装")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("tar -zxvf nginx-1.xx.tar.gz\n")])])]),n("h1",{attrs:{id:"_5、创建临时目录"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5、创建临时目录"}},[t._v("#")]),t._v(" 5、创建临时目录\\")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("mkdir /var/temp/nginx -p\n")])])]),n("h1",{attrs:{id:"_6、隐藏nginx标识-修改源码"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6、隐藏nginx标识-修改源码"}},[t._v("#")]),t._v(" 6、隐藏Nginx标识--修改源码")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v('# vim src/core/nginx.h +14\n#define NGINX_VER          "wjoyxt/" NGINX_VERSION\n# vim src/http/ngx_http_special_response.c  +22 +29 和 +36  （注意修改后无引号，NGINX_VER为变量）\n"<hr><center>wjoyxt</center>" CRLF\n# vim src/http/ngx_http_header_filter_module.c +49\nstatic char ngx_http_server_string[] = "Server: wjoyxt" CRLF;\n')])])]),n("h1",{attrs:{id:"_7、隐藏版本号"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7、隐藏版本号"}},[t._v("#")]),t._v(" 7、隐藏版本号")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("curl Nginx服务器时，有这么一行Server: nginx，说明我用的是 Nginx 服务器，但并没有具体的版本号。由于某些 Nginx 漏洞只存在于特定的版本，隐藏版本号可以提高安全性。这只需要在nginx.conf配置里加上这个就可以了：\n\nserver_tokens off;\n")])])]),n("h1",{attrs:{id:"_8、切换到-nginx-目录-输入如下命令进行配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8、切换到-nginx-目录-输入如下命令进行配置"}},[t._v("#")]),t._v(" 8、切换到 nginx 目录，输入如下命令进行配置")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[t._v("./configure \\\n--prefix=/usr/local/nginx \\\n--pid-path=/var/run/nginx/nginx.pid \\\n--lock-path=/var/lock/nginx.lock \\\n--error-log-path=/var/log/nginx/error.log \\\n--http-log-path=/var/log/nginx/access.log \\\n--with-http_gzip_static_module \\\n--http-client-body-temp-path=/var/temp/nginx/client \\\n--http-proxy-temp-path=/var/temp/nginx/proxy \\\n--http-fastcgi-temp-path=/var/temp/nginx/fastcgi \\\n--http-uwsgi-temp-path=/var/temp/nginx/uwsgi \\\n--http-scgi-temp-path=/var/temp/nginx/scgi\n")])])]),n("h1",{attrs:{id:"_9、编译安装"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9、编译安装"}},[t._v("#")]),t._v(" 9、编译安装")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("make && make install\n")])])]),n("h1",{attrs:{id:"_10、进入-nginx-目录下的-sbin-目录-执行命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_10、进入-nginx-目录下的-sbin-目录-执行命令"}},[t._v("#")]),t._v(" 10、进入 nginx 目录下的 sbin 目录，执行命令")]),t._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[t._v("启动：./nginx\n")])])]),n("h1",{attrs:{id:"_11、执行-nginx-命令启动后-打开浏览器-访问虚拟机所处内网-ip-即可打开-nginx-默认页面-表示安装成功-默认访问-80-端口-所以保证-80-端口是开启的-如在本地虚拟机-需要关闭防火墙"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_11、执行-nginx-命令启动后-打开浏览器-访问虚拟机所处内网-ip-即可打开-nginx-默认页面-表示安装成功-默认访问-80-端口-所以保证-80-端口是开启的-如在本地虚拟机-需要关闭防火墙"}},[t._v("#")]),t._v(" 11、执行./nginx 命令启动后，打开浏览器，访问虚拟机所处内网 ip 即可打开 nginx 默认页面，表示安装成功（默认访问 80 端口，所以保证 80 端口是开启的，如在本地虚拟机，需要关闭防火墙）")]),t._v(" "),n("p",[n("img",{attrs:{src:"/nginx.png",alt:"nginx 效果图",title:"nginx 效果图"}})])])}),[],!1,null,null,null);n.default=e.exports}}]);